# =============================================================================
# Data Catalog - Hateful Memes Multimodal Classification
# =============================================================================
# Location: conf/base/catalog.yml
# =============================================================================

# -----------------------------------------------------------------------------
# RAW DATA - Hateful Memes Dataset (from Hugging Face)
# -----------------------------------------------------------------------------

hateful_memes_train:
  type: pandas.JSONDataset
  filepath: data/01_raw/hateful_memes/train.jsonl
  load_args:
    lines: true

hateful_memes_dev_seen:
  type: pandas.JSONDataset
  filepath: data/01_raw/hateful_memes/dev_seen.jsonl
  load_args:
    lines: true

hateful_memes_dev_unseen:
  type: pandas.JSONDataset
  filepath: data/01_raw/hateful_memes/dev_unseen.jsonl
  load_args:
    lines: true

hateful_memes_test_seen:
  type: pandas.JSONDataset
  filepath: data/01_raw/hateful_memes/test_seen.jsonl
  load_args:
    lines: true

hateful_memes_test_unseen:
  type: pandas.JSONDataset
  filepath: data/01_raw/hateful_memes/test_unseen.jsonl
  load_args:
    lines: true

hateful_memes_stats:
  type: json.JSONDataset
  filepath: data/01_raw/hateful_memes/dataset_stats.json

# -----------------------------------------------------------------------------
# PROCESSED DATA - Output from data_processing pipeline
# -----------------------------------------------------------------------------

processed_train:
  type: pandas.ParquetDataset
  filepath: data/02_intermediate/train_processed.parquet

processed_val:
  type: pandas.ParquetDataset
  filepath: data/02_intermediate/val_processed.parquet

processed_test_seen:
  type: pandas.ParquetDataset
  filepath: data/02_intermediate/test_seen_processed.parquet

processed_test_unseen:
  type: pandas.ParquetDataset
  filepath: data/02_intermediate/test_unseen_processed.parquet

data_splits_info:
  type: json.JSONDataset
  filepath: data/02_intermediate/data_splits_info.json

# -----------------------------------------------------------------------------
# FEATURE DATA - Embeddings from models
# -----------------------------------------------------------------------------

# CLIP
clip_train_features:
  type: pickle.PickleDataset
  filepath: data/03_feature/clip/train_features.pkl
  backend: pickle

clip_val_features:
  type: pickle.PickleDataset
  filepath: data/03_feature/clip/val_features.pkl
  backend: pickle

clip_test_seen_features:
  type: pickle.PickleDataset
  filepath: data/03_feature/clip/test_seen_features.pkl
  backend: pickle

clip_test_unseen_features:
  type: pickle.PickleDataset
  filepath: data/03_feature/clip/test_unseen_features.pkl
  backend: pickle

# ViLBERT
vilbert_train_features:
  type: pickle.PickleDataset
  filepath: data/03_feature/vilbert/train_features.pkl
  backend: pickle

vilbert_val_features:
  type: pickle.PickleDataset
  filepath: data/03_feature/vilbert/val_features.pkl
  backend: pickle

vilbert_test_seen_features:
  type: pickle.PickleDataset
  filepath: data/03_feature/vilbert/test_seen_features.pkl
  backend: pickle

vilbert_test_unseen_features:
  type: pickle.PickleDataset
  filepath: data/03_feature/vilbert/test_unseen_features.pkl
  backend: pickle

# VisualBERT
visualbert_train_features:
  type: pickle.PickleDataset
  filepath: data/03_feature/visualbert/train_features.pkl
  backend: pickle

visualbert_val_features:
  type: pickle.PickleDataset
  filepath: data/03_feature/visualbert/val_features.pkl
  backend: pickle

visualbert_test_seen_features:
  type: pickle.PickleDataset
  filepath: data/03_feature/visualbert/test_seen_features.pkl
  backend: pickle

visualbert_test_unseen_features:
  type: pickle.PickleDataset
  filepath: data/03_feature/visualbert/test_unseen_features.pkl
  backend: pickle

# -----------------------------------------------------------------------------
# MODELS - Saved checkpoints
# -----------------------------------------------------------------------------

clip_model:
  type: pickle.PickleDataset
  filepath: data/04_models/clip_classifier.pt
  backend: pickle

vilbert_model:
  type: pickle.PickleDataset
  filepath: data/04_models/vilbert_classifier.pt
  backend: pickle

visualbert_model:
  type: pickle.PickleDataset
  filepath: data/04_models/visualbert_classifier.pt
  backend: pickle

best_model:
  type: pickle.PickleDataset
  filepath: data/04_models/best_model.pt
  backend: pickle

# -----------------------------------------------------------------------------
# MODEL OUTPUT - Predictions
# -----------------------------------------------------------------------------

clip_predictions:
  type: pandas.ParquetDataset
  filepath: data/05_model_output/clip_predictions.parquet

vilbert_predictions:
  type: pandas.ParquetDataset
  filepath: data/05_model_output/vilbert_predictions.parquet

visualbert_predictions:
  type: pandas.ParquetDataset
  filepath: data/05_model_output/visualbert_predictions.parquet

# -----------------------------------------------------------------------------
# REPORTING - Metrics and figures
# -----------------------------------------------------------------------------

model_metrics:
  type: json.JSONDataset
  filepath: data/06_reporting/model_metrics.json

training_history:
  type: json.JSONDataset
  filepath: data/06_reporting/training_history.json

confusion_matrix_fig:
  type: matplotlib.MatplotlibWriter
  filepath: data/06_reporting/figures/confusion_matrix.png

roc_curves_fig:
  type: matplotlib.MatplotlibWriter
  filepath: data/06_reporting/figures/roc_curves.png

model_comparison_fig:
  type: matplotlib.MatplotlibWriter
  filepath: data/06_reporting/figures/model_comparison.png